{% extends 'base.html' %}

{% block content %}

<h1>{{  profile_user }}님의 프로필 페이지</h1>
{% if request.user != profile_user %}
<form action="{% url 'accounts:follow' profile_user.pk %}" method="POST">
  {% csrf_token %}
  {% if request.user in profile_user.followers.all %}
    <button>언팔로우</button>
  {% else %}
    <button>팔로우</button>
  {% endif %}
</form>
{% endif %}

{% comment %} 팔로워 목록 {% endcomment %}
<p> 나의 팔로워</p>
{% for follower in profile_user.followers.all %}
<p>
  {{follower}}
</p>
{% endfor %}

{% comment %} 팔로잉 목록 {% endcomment %}
<p>내가 팔로잉하는 사람</p>
{% for following in profile_user.followings.all  %}
  <p>{{ following }}</p>
{% endfor %}
<a href="{% url 'articles:index' %}">돌아가기</a>
{% endblock content %}

{% comment %} 

from_user_id : 나
to_user_id : 프로필 주인
{% endcomment %}